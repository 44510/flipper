"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2165],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>s,MDXProvider:()=>c,mdx:()=>v,useMDXComponents:()=>u,withMDXComponents:()=>d});var r=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=r.createContext({}),d=function(e){return function(n){var t=u(n.components);return r.createElement(e,o({},n,{components:t}))}},u=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=u(e.components);return r.createElement(s.Provider,{value:n},e.children)},f={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,a=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),d=u(t),c=i,m=d["".concat(a,".").concat(c)]||d[c]||f[c]||o;return t?r.createElement(m,l(l({ref:n},s),{},{components:t})):r.createElement(m,l({ref:n},s))}));function v(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=m;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var s=2;s<o;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},39960:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var r=t(80102),i=t(67294),o=t(73727),a=t(52263),l=t(13919),p=t(10412),s=(0,i.createContext)({collectLink:function(){}}),d=t(44996),u=t(18780),c=["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"];const f=function(e){var n,t,f=e.isNavLink,m=e.to,v=e.href,h=e.activeClassName,g=e.isActive,b=e["data-noBrokenLinkCheck"],y=e.autoAddBaseUrl,x=void 0===y||y,w=(0,r.Z)(e,c),k=(0,a.default)().siteConfig,C=k.trailingSlash,O=k.baseUrl,N=(0,d.useBaseUrlUtils)().withBaseUrl,A=(0,i.useContext)(s),F=m||v,P=(0,l.Z)(F),E=null==F?void 0:F.replace("pathname://",""),T=void 0!==E?(t=E,x&&function(e){return e.startsWith("/")}(t)?N(t):t):void 0;T&&P&&(T=(0,u.applyTrailingSlash)(T,{trailingSlash:C,baseUrl:O}));var D=(0,i.useRef)(!1),S=f?o.OL:o.rU,I=p.default.canUseIntersectionObserver,j=(0,i.useRef)();(0,i.useEffect)((function(){return!I&&P&&null!=T&&window.docusaurus.prefetch(T),function(){I&&j.current&&j.current.disconnect()}}),[j,T,I,P]);var U=null!==(n=null==T?void 0:T.startsWith("#"))&&void 0!==n&&n,M=!T||!P||U;return T&&P&&!U&&!b&&A.collectLink(T),M?i.createElement("a",Object.assign({href:T},F&&!P&&{target:"_blank",rel:"noopener noreferrer"},w)):i.createElement(S,Object.assign({},w,{onMouseEnter:function(){D.current||null==T||(window.docusaurus.preload(T),D.current=!0)},innerRef:function(e){var n,t;I&&e&&P&&(n=e,t=function(){null!=T&&window.docusaurus.prefetch(T)},j.current=new window.IntersectionObserver((function(e){e.forEach((function(e){n===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(j.current.unobserve(n),j.current.disconnect(),t())}))})),j.current.observe(n))},to:T||""},f&&{isActive:g,activeClassName:h}))}},13919:(e,n,t)=>{function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!r(e)}t.d(n,{b:()=>r,Z:()=>i})},44996:(e,n,t)=>{t.r(n),t.d(n,{useBaseUrlUtils:()=>o,default:()=>a});var r=t(52263),i=t(13919);function o(){var e=(0,r.default)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,o=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,r){var o=void 0===r?{}:r,a=o.forcePrependBaseUrl,l=void 0!==a&&a,p=o.absolute,s=void 0!==p&&p;if(!t)return t;if(t.startsWith("#"))return t;if((0,i.b)(t))return t;if(l)return n+t;var d=t.startsWith(n)?t:n+t.replace(/^\//,"");return s?e+d:d}(o,t,e,n)}}}function a(e,n){return void 0===n&&(n={}),(0,o().withBaseUrl)(e,n)}},58215:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});var r=t(67294);const i=function(e){var n=e.children,t=e.hidden,i=e.className;return r.createElement("div",{role:"tabpanel",hidden:t,className:i},n)}},26396:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c});var r=t(83117),i=t(67294),o=t(72389),a=t(79443);const l=function(){var e=(0,i.useContext)(a.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e};var p=t(89521),s=t(86010);const d="tabItem_1uMI";function u(e){var n,t,r,o=e.lazy,a=e.block,u=e.defaultValue,c=e.values,f=e.groupId,m=e.className,v=i.Children.map(e.children,(function(e){if((0,i.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=c?c:v.map((function(e){var n=e.props;return{value:n.value,label:n.label}})),g=(0,p.duplicates)(h,(function(e,n){return e.value===n.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===u?u:null!=(n=null!=u?u:null==(t=v.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(r=v[0])?void 0:r.props.value;if(null!==b&&!h.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=l(),x=y.tabGroupChoices,w=y.setTabGroupChoices,k=(0,i.useState)(b),C=k[0],O=k[1],N=[],A=(0,p.useScrollPositionBlocker)().blockElementScrollPositionUntilNextRender;if(null!=f){var F=x[f];null!=F&&F!==C&&h.some((function(e){return e.value===F}))&&O(F)}var P=function(e){var n=e.currentTarget,t=N.indexOf(n),r=h[t].value;r!==C&&(A(n),O(r),null!=f&&w(f,r))},E=function(e){var n,t=null;switch(e.key){case"ArrowRight":var r=N.indexOf(e.currentTarget)+1;t=N[r]||N[0];break;case"ArrowLeft":var i=N.indexOf(e.currentTarget)-1;t=N[i]||N[N.length-1]}null==(n=t)||n.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.default)("tabs",{"tabs--block":a},m)},h.map((function(e){var n=e.value,t=e.label;return i.createElement("li",{role:"tab",tabIndex:C===n?0:-1,"aria-selected":C===n,className:(0,s.default)("tabs__item",d,{"tabs__item--active":C===n}),key:n,ref:function(e){return N.push(e)},onKeyDown:E,onFocus:P,onClick:P},null!=t?t:n)}))),o?(0,i.cloneElement)(v.filter((function(e){return e.props.value===C}))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},v.map((function(e,n){return(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==C})}))))}function c(e){var n=(0,o.default)();return i.createElement(u,(0,r.Z)({key:String(n)},e))}},8802:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=n.trailingSlash,r=n.baseUrl;if(e.startsWith("#"))return e;if(void 0===t)return e;var i,o=e.split(/[#?]/)[0],a="/"===o||o===r?o:(i=o,t?function(e){return e.endsWith("/")?e:e+"/"}(i):function(e){return e.endsWith("/")?e.slice(0,-1):e}(i));return e.replace(o,a)}},18780:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.uniq=n.applyTrailingSlash=void 0;var i=t(8802);Object.defineProperty(n,"applyTrailingSlash",{enumerable:!0,get:function(){return r(i).default}});var o=t(29964);Object.defineProperty(n,"uniq",{enumerable:!0,get:function(){return r(o).default}})},29964:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return Array.from(new Set(e))}},26053:(e,n,t)=>{t.r(n),t.d(n,{frontMatter:()=>u,contentTitle:()=>c,metadata:()=>f,toc:()=>m,default:()=>h});var r=t(83117),i=t(80102),o=(t(67294),t(3905)),a=t(44996),l=t(39960),p=t(26396),s=t(58215),d=["components"],u={id:"android-native",title:"Adding Flipper to Android apps with Gradle",sidebar_label:"Android with Gradle"},c=void 0,f={unversionedId:"getting-started/android-native",id:"getting-started/android-native",isDocsHomePage:!1,title:"Adding Flipper to Android apps with Gradle",description:"To set up Flipper for Android, you need to add the necessary dependencies to your",source:"@site/../docs/getting-started/android-native.mdx",sourceDirName:"getting-started",slug:"/getting-started/android-native",permalink:"/docs/getting-started/android-native",editUrl:"https://github.com/facebook/flipper/blob/main/website/../docs/getting-started/android-native.mdx",tags:[],version:"current",frontMatter:{id:"android-native",title:"Adding Flipper to Android apps with Gradle",sidebar_label:"Android with Gradle"},sidebar:"setup",previous:{title:"Desktop App",permalink:"/docs/getting-started/index"},next:{title:"Generic iOS apps",permalink:"/docs/getting-started/ios-native"}},m=[{value:"Dependencies",id:"dependencies",children:[],level:2},{value:"Application Setup",id:"application-setup",children:[],level:2},{value:"Diagnostics",id:"diagnostics",children:[],level:2},{value:"Android Snapshots",id:"android-snapshots",children:[],level:2},{value:"Enabling plugins",id:"enabling-plugins",children:[],level:2},{value:"Having trouble?",id:"having-trouble",children:[],level:2}],v={toc:m};function h(e){var n=e.components,t=(0,i.Z)(e,d);return(0,o.mdx)("wrapper",(0,r.Z)({},v,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("p",null,"To set up Flipper for Android, you need to add the necessary dependencies to your\napp, initialize the Flipper client and enable the plugins you want to use. Optionally,\nyou can hook up the diagnostics Activity to help you troubleshoot connection issues."),(0,o.mdx)("h2",{id:"dependencies"},"Dependencies"),(0,o.mdx)("p",null,"Flipper is distributed via Maven Central. Add the dependencies to your ",(0,o.mdx)("inlineCode",{parentName:"p"},"build.gradle")," file.\nYou should also explicitly depend on ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/facebook/soloader"},(0,o.mdx)("inlineCode",{parentName:"a"},"soloader")),"\ninstead of relying on transitive dependency resolution which is getting deprecated\nwith Gradle 5."),(0,o.mdx)("p",null,'We provide a "no-op" implementation of some oft-used Flipper interfaces you can\nuse to make it easier to strip Flipper from your release builds.'),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-groovy"},"repositories {\n  mavenCentral()\n}\n\ndependencies {\n  debugImplementation 'com.facebook.flipper:flipper:0.142.0'\n  debugImplementation 'com.facebook.soloader:soloader:0.10.1'\n\n  releaseImplementation 'com.facebook.flipper:flipper-noop:0.142.0'\n}\n")),(0,o.mdx)("div",{class:"warning"},(0,o.mdx)("p",null,"Please note that our ",(0,o.mdx)("inlineCode",{parentName:"p"},"flipper-noop")," package provides a limited subset of the\nAPIs provided by the ",(0,o.mdx)("inlineCode",{parentName:"p"},"flipper")," package and does not provide any plugin stubs.\nIt is recommended that you keep all Flipper instantiation code in a separate\nbuild variant to ensure it doesn't accidentally make it into your production\nbuilds. Check out ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/facebook/flipper/tree/main/android/sample/src"},"the sample\napp")," to\nsee how to organise your Flipper initialization into debug and release\nvariants."),(0,o.mdx)("p",null,"Alternatively, have a look at the third-party\n",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/theGlenn/flipper-android-no-op"},"flipper-android-no-op"),"\nrepository, which provides empty implementations for several Flipper plugins.")),(0,o.mdx)("h2",{id:"application-setup"},"Application Setup"),(0,o.mdx)("p",null,"Now you can initialize Flipper in your Application's ",(0,o.mdx)("inlineCode",{parentName:"p"},"onCreate")," method, which involves\ninitializing SoLoader (for loading the C++ part of Flipper) and starting a ",(0,o.mdx)("inlineCode",{parentName:"p"},"FlipperClient"),"."),(0,o.mdx)(p.default,{mdxType:"Tabs"},(0,o.mdx)(s.default,{value:"kt",label:"Kotlin",mdxType:"TabItem"},(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"import com.facebook.flipper.android.AndroidFlipperClient\nimport com.facebook.flipper.android.utils.FlipperUtils\nimport com.facebook.flipper.core.FlipperClient\nimport com.facebook.flipper.plugins.inspector.DescriptorMapping\nimport com.facebook.flipper.plugins.inspector.InspectorFlipperPlugin\n\nclass MyApplication : Application {\n  override fun onCreate() {\n    super.onCreate()\n    SoLoader.init(this, false)\n\n    if (BuildConfig.DEBUG && FlipperUtils.shouldEnableFlipper(this)) {\n      val client = AndroidFlipperClient.getInstance(this)\n      client.addPlugin(InspectorFlipperPlugin(this, DescriptorMapping.withDefaults()))\n      client.start()\n    }\n  }\n}\n"))),(0,o.mdx)(s.default,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"import com.facebook.flipper.android.AndroidFlipperClient;\nimport com.facebook.flipper.android.utils.FlipperUtils;\nimport com.facebook.flipper.core.FlipperClient;\nimport com.facebook.flipper.plugins.inspector.DescriptorMapping;\nimport com.facebook.flipper.plugins.inspector.InspectorFlipperPlugin;\n\n\npublic class MyApplication extends Application {\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    SoLoader.init(this, false);\n\n    if (BuildConfig.DEBUG && FlipperUtils.shouldEnableFlipper(this)) {\n      final FlipperClient client = AndroidFlipperClient.getInstance(this);\n      client.addPlugin(new InspectorFlipperPlugin(this, DescriptorMapping.withDefaults()));\n      client.start();\n    }\n  }\n}\n")))),(0,o.mdx)("h2",{id:"diagnostics"},"Diagnostics"),(0,o.mdx)("p",null,"It's recommended that you add the following activity to the manifest, which can help diagnose integration issues and other problems:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-xml"},'<activity android:name="com.facebook.flipper.android.diagnostics.FlipperDiagnosticActivity"\n        android:exported="true"/>\n')),(0,o.mdx)("h2",{id:"android-snapshots"},"Android Snapshots"),(0,o.mdx)("p",null,"Feeling adventurous? We publish Android snapshot releases directly off of ",(0,o.mdx)("inlineCode",{parentName:"p"},"main"),"."),(0,o.mdx)("p",null,"You can get the latest version by adding the Maven Snapshot repository to your sources\nand pointing to the most recent ",(0,o.mdx)("inlineCode",{parentName:"p"},"-SNAPSHOT")," version."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-groovy"},"repositories {\n  maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }\n}\n\ndependencies {\n  debugImplementation 'com.facebook.flipper:flipper:0.142.1-SNAPSHOT'\n  debugImplementation 'com.facebook.soloader:soloader:0.10.1'\n\n  releaseImplementation 'com.facebook.flipper:flipper-noop:0.142.1-SNAPSHOT'\n}\n")),(0,o.mdx)("h2",{id:"enabling-plugins"},"Enabling plugins"),(0,o.mdx)("p",null,"Finally, you need to add plugins to your Flipper client. Above, we have only added the Layout Inspector plugin to get you started. See ",(0,o.mdx)(l.default,{to:(0,a.default)("/docs/setup/plugins/network"),mdxType:"Link"},"Network Plugin")," and ",(0,o.mdx)(l.default,{to:(0,a.default)("/docs/setup/layout-plugin"),mdxType:"Link"},"Layout Inspector Plugin")," for information on how to add them, and also enable Litho or ComponentKit support. You can check the sample apps in the ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/facebook/flipper"},"GitHub repo")," for examples of integrating other plugins."),(0,o.mdx)("h2",{id:"having-trouble"},"Having trouble?"),(0,o.mdx)("p",null,"See the ",(0,o.mdx)(l.default,{to:(0,a.default)("/docs/troubleshooting"),mdxType:"Link"},"troubleshooting page")," for help with known problems."))}h.isMDXComponent=!0}}]);